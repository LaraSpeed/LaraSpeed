<html>
<head>
<title>MCD.php</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: rgb(0,0,0); font-weight: normal; font-style: normal; }
.s0 { color: rgb(204,120,50); font-weight: bold; }
.s1 { color: rgb(169,183,198); }
.s2 { color: rgb(98,151,85); font-style: italic; }
.s3 { color: rgb(169,183,198); }
.s4 { color: rgb(204,120,50); }
.s5 { color: rgb(152,118,170); }
.s6 { color: rgb(128,128,128); }
.s7 { color: rgb(106,135,89); }
.s8 { color: rgb(98,151,85); font-weight: bold; font-style: italic; }
.s9 { color: rgb(104,151,187); }
.ls0 { height: 1px; border-width: 0; color: rgb(77,77,77); background-color:rgb(77,77,77)}
</style>
</head>
<BODY BGCOLOR="#2b2b2b">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#C0C0C0" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
MCD.php</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">&lt;?php</span><span class="s1"> <hr class="ls0"></span><span class="s2">/** 
 * Created by PhpStorm. 
 * User: seydou 
 * Date: 02/09/16 
 * Time: 04:04 Ù… 
 */</span><span class="s1"> 
 
</span><span class="s0">namespace </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">Codegenerator</span><span class="s1">\</span><span class="s3">Core</span><span class="s4">;</span><span class="s1"> 
 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">BigIncrementsType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">BigIntegerType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">BooleanType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">CharType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">DecimalType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">DoubleType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">EnumType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">FloatType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">IncrementsType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">IntegerType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">LongTextType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">SetType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">SmallIntegerType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">StringType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">TextType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">TinyIntegerType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">MCDType</span><span class="s1">\</span><span class="s3">TimeStampType</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">Codegenerator</span><span class="s1">\</span><span class="s3">Relation</span><span class="s1">\</span><span class="s3">BelongsToManyRelation</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">Relation</span><span class="s1">\</span><span class="s3">BelongsToRelation</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">Relation</span><span class="s1">\</span><span class="s3">HasManyRelation</span><span class="s4">;</span><span class="s1"> 
</span><span class="s0">use </span><span class="s3">Berthe</span><span class="s1">\</span><span class="s3">CodeGenerator</span><span class="s1">\</span><span class="s3">Relation</span><span class="s1">\</span><span class="s3">HasOneRelation</span><span class="s4">;</span><span class="s1"> 
 
 <hr class="ls0"></span><span class="s0">class </span><span class="s3">MCD</span><span class="s1"> 
{ 
    </span><span class="s0">private </span><span class="s5">$tables</span><span class="s4">;</span><span class="s1"> 
 
    </span><span class="s0">private </span><span class="s5">$currentTableName</span><span class="s4">;</span><span class="s1"> 
 
    </span><span class="s0">private </span><span class="s5">$currentAttributes</span><span class="s4">;</span><span class="s1"> 
 
    </span><span class="s0">private </span><span class="s5">$currentRelations</span><span class="s4">;</span><span class="s1"> 
 
    </span><span class="s0">private </span><span class="s5">$isEnded</span><span class="s4">;</span><span class="s1"> 
 
    </span><span class="s0">private </span><span class="s5">$hasId </span><span class="s1">= </span><span class="s3">false</span><span class="s4">; </span><span class="s6">//Track whether current table has an ID setUp</span><span class="s1"> 
 
 
    </span><span class="s0">public function </span><span class="s3">__construct</span><span class="s1">() 
    { 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">tables </span><span class="s1">= </span><span class="s0">array</span><span class="s1">()</span><span class="s4">;</span><span class="s1"> 
 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">init</span><span class="s1">()</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">private function </span><span class="s3">init</span><span class="s1">(){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName </span><span class="s1">= </span><span class="s7">&quot;table&quot;</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes </span><span class="s1">= </span><span class="s0">array</span><span class="s1">()</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentRelations </span><span class="s1">= </span><span class="s0">array</span><span class="s1">()</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">isEnded </span><span class="s1">= </span><span class="s3">false</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">hasId </span><span class="s1">= </span><span class="s3">false</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">private function </span><span class="s3">setTableID</span><span class="s1">(</span><span class="s5">$id</span><span class="s1">) 
    { 
        </span><span class="s0">if </span><span class="s1">(!</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">hasId</span><span class="s1">) { 
            </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">tables</span><span class="s1">[</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName</span><span class="s1">][</span><span class="s7">'id'</span><span class="s1">] = </span><span class="s5">$id</span><span class="s4">;</span><span class="s1"> 
            </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">hasId </span><span class="s1">= </span><span class="s3">true</span><span class="s4">;</span><span class="s1"> 
        } 
    } 
     
 
    </span><span class="s2">/** 
     * Function initializing adding table. 
     * </span><span class="s8">@param </span><span class="s2">string $tableName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">table</span><span class="s1">(</span><span class="s5">$tableName </span><span class="s1">= </span><span class="s7">&quot;table&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">tables</span><span class="s1">[</span><span class="s5">$tableName</span><span class="s1">] = </span><span class="s0">array</span><span class="s1">()</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName </span><span class="s1">= </span><span class="s5">$tableName</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">tables</span><span class="s1">[</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName</span><span class="s1">][</span><span class="s7">'relations'</span><span class="s1">] = </span><span class="s0">array</span><span class="s1">()</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * Function adding new string attribut to the current Attribute Array. 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@param </span><span class="s2">int $nb_characters 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">string</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;string&quot;</span><span class="s4">, </span><span class="s5">$nb_characters </span><span class="s1">= </span><span class="s9">0</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">StringType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s4">, </span><span class="s5">$nb_characters</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * Function adding new integer attribute 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">integer</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">=</span><span class="s7">&quot;integer&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">IntegerType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">bigIncrements</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">=</span><span class="s7">&quot;biginc&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">BigIncrementsType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
 
        </span><span class="s6">//Create an ID for the current Table if not exist</span><span class="s1"> 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">setTableID</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">bigInteger</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;bigint&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">BigIntegerType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">boolean</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;bool&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">BooleanType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@param </span><span class="s2">int $nb_character 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">char</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">= </span><span class="s7">&quot;char&quot;</span><span class="s4">, </span><span class="s5">$nb_character </span><span class="s1">= </span><span class="s9">0</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">CharType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s4">, </span><span class="s5">$nb_character</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@param </span><span class="s2">int $precision 
     * </span><span class="s8">@param </span><span class="s2">int $scale 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">decimal</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;decimal&quot;</span><span class="s4">, </span><span class="s5">$precision </span><span class="s1">= </span><span class="s9">0</span><span class="s4">, </span><span class="s5">$scale </span><span class="s1">= </span><span class="s9">0</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">DecimalType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s4">, </span><span class="s5">$precision</span><span class="s4">, </span><span class="s5">$scale</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@param </span><span class="s2">int $digit 
     * </span><span class="s8">@param </span><span class="s2">int $after 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">double</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;double&quot;</span><span class="s4">, </span><span class="s5">$digit </span><span class="s1">= </span><span class="s9">0</span><span class="s4">, </span><span class="s5">$after </span><span class="s1">= </span><span class="s9">0</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">DoubleType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s4">, </span><span class="s5">$digit</span><span class="s4">, </span><span class="s5">$after</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@param </span><span class="s2">array $elements 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">enum</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;enum&quot;</span><span class="s4">, </span><span class="s5">$elements </span><span class="s1">= </span><span class="s0">array</span><span class="s1">()){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">EnumType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s4">,</span><span class="s5">$elements</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@param </span><span class="s2">$precision 
     * </span><span class="s8">@param </span><span class="s2">$scale 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">float</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;float&quot;</span><span class="s4">, </span><span class="s5">$precision</span><span class="s4">, </span><span class="s5">$scale</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">FloatType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s4">, </span><span class="s5">$precision</span><span class="s4">, </span><span class="s5">$scale</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">increments</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;inc&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">IncrementsType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
 
        </span><span class="s6">//Create an ID for the current Table if not exist</span><span class="s1"> 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">setTableID</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">longText</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;longtext&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">LongTextType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@param </span><span class="s2">bool $autoIncrements 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">smallInteger</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;smallint&quot;</span><span class="s4">, </span><span class="s5">$autoIncrements </span><span class="s1">= </span><span class="s3">false</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">SmallIntegerType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s4">, </span><span class="s5">$autoIncrements</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
 
        </span><span class="s6">//Create an ID for the current Table if not exist</span><span class="s1"> 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">setTableID</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">text</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;text&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">TextType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">timeStamp</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;timestamps&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">TimeStampType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">tinyInteger</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;tinyInteger&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">TinyIntegerType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
 
        </span><span class="s6">//Create an ID for the current Table if not exist</span><span class="s1"> 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">setTableID</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * </span><span class="s8">@param </span><span class="s2">string $attrName 
     * </span><span class="s8">@param </span><span class="s2">array $allowed 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">set</span><span class="s1">(</span><span class="s5">$attrName </span><span class="s1">= </span><span class="s7">&quot;set&quot;</span><span class="s4">, </span><span class="s5">$allowed </span><span class="s1">= </span><span class="s0">array</span><span class="s1">()){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s1">[</span><span class="s5">$attrName</span><span class="s1">] = </span><span class="s0">new </span><span class="s3">SetType</span><span class="s1">(</span><span class="s5">$attrName</span><span class="s4">, </span><span class="s5">$allowed</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * Function adding new relation hasOne Type of relation to the list of the current table relations 
     * </span><span class="s8">@param </span><span class="s2">string $tableName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">hasOne</span><span class="s1">(</span><span class="s5">$tableName</span><span class="s1">=</span><span class="s7">&quot;table&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">tables</span><span class="s1">[</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName</span><span class="s1">][</span><span class="s7">'relations'</span><span class="s1">][] = </span><span class="s0">new </span><span class="s3">HasOneRelation</span><span class="s1">(</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName</span><span class="s4">, </span><span class="s5">$tableName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * Function adding new relation hasMany Type of relation to the list of the current table relations 
     * </span><span class="s8">@param </span><span class="s2">string $tableName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">hasMany</span><span class="s1">(</span><span class="s5">$tableName</span><span class="s1">=</span><span class="s7">&quot;table&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">tables</span><span class="s1">[</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName</span><span class="s1">][</span><span class="s7">'relations'</span><span class="s1">][] = </span><span class="s0">new </span><span class="s3">HasManyRelation</span><span class="s1">(</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName</span><span class="s4">, </span><span class="s5">$tableName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * Function adding new relation belongsTo Type of relation to the list of the current table relations 
     * </span><span class="s8">@param </span><span class="s2">string $tableName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">belongsTo</span><span class="s1">(</span><span class="s5">$tableName </span><span class="s1">=</span><span class="s7">&quot;table&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">tables</span><span class="s1">[</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName</span><span class="s1">][</span><span class="s7">'relations'</span><span class="s1">][] = </span><span class="s0">new </span><span class="s3">BelongsToRelation</span><span class="s1">(</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName</span><span class="s4">, </span><span class="s5">$tableName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * Function adding new relation belongsToMany Type of relation to the list of the current table relations 
     * </span><span class="s8">@param </span><span class="s2">string $tableName 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">belongsToMany</span><span class="s1">(</span><span class="s5">$tableName </span><span class="s1">=</span><span class="s7">&quot;table&quot;</span><span class="s1">){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">tables</span><span class="s1">[</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName</span><span class="s1">][</span><span class="s7">'relations'</span><span class="s1">][] = </span><span class="s0">new </span><span class="s3">BelongsToManyRelation</span><span class="s1">(</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName</span><span class="s4">, </span><span class="s5">$tableName</span><span class="s1">)</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">/** 
     * Function committing add new Table to the MCD. 
     * </span><span class="s8">@return </span><span class="s2">$this 
     */</span><span class="s1"> 
    </span><span class="s0">public function </span><span class="s3">end</span><span class="s1">(){ 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">tables</span><span class="s1">[</span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentTableName</span><span class="s1">][</span><span class="s7">'attributs'</span><span class="s1">] = </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">currentAttributes</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s6">//$this-&gt;tables[$this-&gt;currentTableName]['relations'] = $this-&gt;currentRelations;</span><span class="s1"> 
        </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">init</span><span class="s1">()</span><span class="s4">;</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s4">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">public function </span><span class="s3">getSite</span><span class="s1">(){ 
        </span><span class="s0">return </span><span class="s5">$this</span><span class="s1">-&gt;</span><span class="s3">tables</span><span class="s4">;</span><span class="s1"> 
    } 
 
}</span></pre>
</body>
</html>